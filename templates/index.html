{% extends 'base.html' %}

{% block content %}
    <h1>{% block title %} URL Shortener {% endblock %}</h1>
    <form method="post">
    <div class="form-group">
        <label for="url">Enter URL below</label>
        <input type="text" name="url"
               placeholder="Long URL" class="form-control"
               value="{{ request.form['url'] }}" autofocus></input>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-dark">Shorten</button>
    </div>
    </form>

    {% if short_url %}
    <hr>
    <p>Shotened Link - <span id='short_url'>{{short_url}}</span></p>
    <!-- <button id="btnCopy"></button> -->

    {% endif %}
{% endblock %}

<script>
    const inp = document.getElementById('short_url')
    const btnCopy = document.getElementById('btnCopy')
    btnCopy.onclick = function(){
        imp.select();
        document.execCommand("Copy");
    }
</script>   